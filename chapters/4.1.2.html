<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.1.2&nbsp;&nbsp;
    Representing
    
      
      Components
    
  " />
    <title>
      4.1.2&nbsp;&nbsp;
    Representing
    
      
      Components
    
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; JavaScript Adaptation</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-4">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="false" aria-controls="sidebar-collapse-4">
                <a href="./see.html"> 
    Index Crossreferences (for proofreading)
  </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      
      Functions
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-6">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="true" aria-controls="sidebar-collapse-6">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="true" aria-controls="sidebar-collapse-6">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-6" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      
      Operator Combinations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.4.html"> 1.1.4 
    Compound 
    Functions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      
      
        Function
      
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-14">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="false" aria-controls="sidebar-collapse-14">
                <a href="./1.1.8.html"> 1.1.8 
    
      
      
        Functions
      
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-15">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="true" aria-controls="sidebar-collapse-15">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="true" aria-controls="sidebar-collapse-15">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      
      Functions
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-15" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-21">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="false" aria-controls="sidebar-collapse-21">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-22">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="true" aria-controls="sidebar-collapse-22">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="true" aria-controls="sidebar-collapse-22">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  
	  Functions
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-22" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.1.html"> 1.3.1 
    
      
      Functions
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.2.html"> 1.3.2 
    
      
      Constructing Functions using Lambda Expressions
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.3.html"> 1.3.3 
    
      
    Functions
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-26">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="false" aria-controls="sidebar-collapse-26">
                <a href="./1.3.4.html"> 1.3.4 
    
      
      Functions
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-28">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="true" aria-controls="sidebar-collapse-28">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="true" aria-controls="sidebar-collapse-28">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-28" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-32">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="false" aria-controls="sidebar-collapse-32">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-33">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="true" aria-controls="sidebar-collapse-33">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="true" aria-controls="sidebar-collapse-33">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-33" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-37">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="false" aria-controls="sidebar-collapse-37">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-38">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="true" aria-controls="sidebar-collapse-38">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="true" aria-controls="sidebar-collapse-38">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-38" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.1.html"> 2.3.1 
    
      
      Strings
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-42">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="false" aria-controls="sidebar-collapse-42">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-43">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="true" aria-controls="sidebar-collapse-43">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="true" aria-controls="sidebar-collapse-43">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-43" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-46">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="false" aria-controls="sidebar-collapse-46">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-47">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="true" aria-controls="sidebar-collapse-47">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="true" aria-controls="sidebar-collapse-47">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-47" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-50">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="false" aria-controls="sidebar-collapse-50">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-52">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="true" aria-controls="sidebar-collapse-52">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="true" aria-controls="sidebar-collapse-52">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-52" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-55">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="false" aria-controls="sidebar-collapse-55">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-56">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="true" aria-controls="sidebar-collapse-56">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="true" aria-controls="sidebar-collapse-56">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-56" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      
      Functions
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-60">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="false" aria-controls="sidebar-collapse-60">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-61">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="true" aria-controls="sidebar-collapse-61">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="true" aria-controls="sidebar-collapse-61">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-61" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-66">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="false" aria-controls="sidebar-collapse-66">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-67">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="true" aria-controls="sidebar-collapse-67">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="true" aria-controls="sidebar-collapse-67">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-67" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-69">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="false" aria-controls="sidebar-collapse-69">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-70">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-70" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-75">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="false" aria-controls="sidebar-collapse-75">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-77">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="true" aria-controls="sidebar-collapse-77">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="true" aria-controls="sidebar-collapse-77">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-77" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      
      Components
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-84">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="false" aria-controls="sidebar-collapse-84">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-85">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="true" aria-controls="sidebar-collapse-85">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="true" aria-controls="sidebar-collapse-85">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-85" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-88">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="false" aria-controls="sidebar-collapse-88">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-89">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="true" aria-controls="sidebar-collapse-89">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="true" aria-controls="sidebar-collapse-89">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-89" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.1.html"> 4.3.1 
    
      
      Search and amb
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-92">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="false" aria-controls="sidebar-collapse-92">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      
      amb
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-93">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="true" aria-controls="sidebar-collapse-93">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="true" aria-controls="sidebar-collapse-93">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-93" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-97">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="false" aria-controls="sidebar-collapse-97">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-99">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="true" aria-controls="sidebar-collapse-99">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="true" aria-controls="sidebar-collapse-99">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-99" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-104">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="false" aria-controls="sidebar-collapse-104">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-105">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="true" aria-controls="sidebar-collapse-105">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="true" aria-controls="sidebar-collapse-105">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-105" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.3.html"> 5.2.3 
    
      
      Instructions and their Execution Functions
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-109">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="false" aria-controls="sidebar-collapse-109">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-110">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="true" aria-controls="sidebar-collapse-110">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="true" aria-controls="sidebar-collapse-110">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-110" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-112">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="false" aria-controls="sidebar-collapse-112">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-113">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-113" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.1.html"> 5.4.1 
    
      
      The Dispatcher and Basic Evaluation
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.2.html"> 5.4.2 
        Evaluating function applications
      </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.3.html"> 5.4.3 
    
      
      
        Blocks, Assignments, and Declarations
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-117">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="false" aria-controls="sidebar-collapse-117">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-118">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="true" aria-controls="sidebar-collapse-118">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="true" aria-controls="sidebar-collapse-118">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-118" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      
      Components
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      
      
	Applications
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-127">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-127" aria-expanded="false" aria-controls="sidebar-collapse-127">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.1.2&nbsp;&nbsp;
    Representing
    
      
      Components
    
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  
  

  
    
      <div class='permalink'>
<a name='p1' class='permalink'></a><p>
	Programmers write programs as text, i.e. sequences of characters, entered
	in a programming environment or a text editor. To run our evaluator, we need
	to start with a representation of this program text as a JavaScript value.
	In section&nbsp;<REF NAME="sec:strings"><a class="superscript" id="4.1.2-sec-link-2.3.1" href="./2.3.1.html">2.3.1</a></REF> we introduced strings to represent
	text. To revisit an example from
	section&nbsp;<REF NAME="sec:naming"><a class="superscript" id="4.1.2-sec-link-1.1.2" href="./1.1.2.html">1.1.2</a></REF>,
	we would like to evaluate programs such as
	<kbd>"const size = 2; 5 * size;"</kbd>.
	Unfortunately, such program text does not provide enough structure to
	the evaluator. In this example, the program parts
	<kbd>"size = 2"</kbd> and
	<kbd>"5 * size"</kbd> look similar, but carry
	very different meaning. Abstract syntax functions such as
	<kbd>declaration_value_expression</kbd> would be
	difficult
	and error-prone to implement by examining the program text.
	
	In this section, we therefore
	introduce a function 
	<kbd>parse</kbd> that translates program text
	to a <EM>tagged-list representation</EM>, reminiscent of
	the tagged data of section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.1.2-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>.
	For example, the application of 
	<kbd>parse</kbd> to the program string
	above produces a data structure that properly
	reflects the structure of the program: a sequence consisting 
	of a constant declaration associating the name
	<kbd>size</kbd>  with the value 2
	and a multiplication.
	<div class='snippet' id='javascript_78_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAHAQwCcBnAUwAoAiAYwHsA7MgF1DIEsAvC0AXlDYA3KACsoAFQceFYTQCUwoA')">parse("const size = 2; 5 * size;");
</pre></div></div>
	<div class='snippet' id='javascript_78_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
list("sequence",
     list(list("constant_declaration", list("name", "size"), list("literal", 2)),
          list("binary_operator_combination", "*",
               list("literal", 5), list("name", "size"))))</pre></div></div>
	The syntax functions used by the evaluator access the tagged-list
	representation produced by 
	<kbd>parse</kbd>.
	
      </p></div>
    
  
  <div class='permalink'>
<a name='p2' class='permalink'></a><p>
    The evaluator is reminiscent of the symbolic differentiation program
    discussed in section&nbsp;<REF NAME="sec:symbolic-differentiation"><a class="superscript" id="4.1.2-sec-link-2.3.2" href="./2.3.2.html">2.3.2</a></REF>.
    Both programs operate on symbolic
    
      
      data.
    
    In both programs, the
    result of operating on 
    
      
      an object
    
    is determined by
    operating recursively on the pieces of the
    
      
      object
    
    and combining
    the results in a way that depends on the type of the
    
      
      object.
    
    In both programs we used 
    
    data abstraction to decouple the general rules
    of operation from the details of how
    
      
      the objects
    
    are represented.  In
    the differentiation program this meant that the same differentiation
    
    function
    could deal with algebraic expressions in prefix form, in
    infix form, or in some other form.  For the evaluator, this means that
    
      
      
	the syntax of the language being evaluated is determined
	solely by <kbd>parse</kbd> and
	the functions that classify and extract pieces of the
	tagged lists produced by <kbd>parse</kbd>.	
      
    
  </p></div>

  
    
      <div class='permalink'>
<a name='p3' class='permalink'></a><p>
        
          
        <img class="scale_factor_" src="../img_javascript/ch4-parse-abstraction.svg">
      
          
          
        
    <FIGURE>
      <img class="scale_factor_" id="fig_4.2" src="../img_javascript/ch4-parse-abstraction.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./4.1.2.html#fig_4.2">Figure 4.2 </a></b>Syntax abstraction in the evaluator.</div>
    </FIGURE>
  
	
	Figure&nbsp;<REF NAME="fig:parse-abstraction"><a class="superscript" id="4.1.2-fig-link-4.2" href="./4.1.2.html#fig_4.2">4.2</a></REF> depicts the abstraction barrier
	formed by the syntax predicates and selectors,
	which interface the evaluator to the tagged-list representation of programs,
	which in turn is separated from the string representation by 
	<kbd>parse</kbd>. Below we
	describe the parsing of program components and list the
	corresponding syntax predicates and selectors, as well as
	constructors if they are needed.
      </p></div>
    
  
  
  
    
    

  
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
    
    Literal expression
  </h2></div>
  <div class='permalink'>
<a name='p4' class='permalink'></a><p>
    
    
	
	Literal expressions are parsed into tagged lists with
	tag <kbd>"literal"</kbd> and
	the actual value.
	
	  
	    \begin{eqnarray*}
	    \ll \mathit{literal}\textit{-}\mathit{expression} \gg & = &
	    \texttt{list("literal", }\mathit{value}\texttt{)}
	    \end{eqnarray*}
	  
	  where $value$ is
	  the JavaScript value represented by the
	  $literal$-$expression$ string.
	  Here $\ll$$literal$-$expression$$\gg$ denotes the
	  result of parsing the string $literal$-$expression$.
	
	
	<div class='snippet' id='javascript_78_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAHAQwCcBnAUwAoAiDAbhoEp6g')">parse("1;");
</pre><pre class='prettyprintoutput'>
list("literal", 1)</pre></div></div>
	<div class='snippet' id='javascript_78_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAHAQwCcBnAUwAoAiAcgAsKAbZge1AHc2TmATOgG4aASkFA')">parse("'hello world';");
</pre><pre class='prettyprintoutput'>
list("literal", "hello world")</pre></div></div>
	<div class='snippet' id='javascript_78_5_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAHAQwCcBnAUwAoAiAOwFcAbJgbhoEpWg')">parse("null;");
</pre><pre class='prettyprintoutput'>
list("literal", null)</pre></div></div>
	The syntax predicate for literal expressions is 
	<kbd>is_literal</kbd>.
	
	<div class='snippet' id='javascript_78_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFiEKbiM2AT8nF209Q2NTc0sWdi4+QWEcgMVQACI0jKz6zWi4hMpaeibMgWYANyyibhrnQN1C-UMTMwsvbh8Rdips8X9x1zbY-HESRgpQCQBPayMaDkyJUCDQGyNGUfqKIxHI0AxI1ui9g6PTl4jZgHNjpCQuG6gIQHZgmAgiaEUWHceEnM4XK5KDCaBQABm2Vl6WREaMB6hBYLykSAA')">function is_literal(component) {
    return is_tagged_list(component, "literal");
}
</pre></div></div>
	
	The syntax predicate 
	<kbd>is_literal</kbd>
	is defined in terms of the function
	<kbd>is_tagged_list</kbd>,
	which identifies lists beginning with a designated
	string:
	
	<div class='snippet' id='javascript_78_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffCt2Lj5BYREhRlEAIhI2CW5MpUyAD0zNQpy80sigA')">function is_tagged_list(component, the_tag) {
    return is_pair(component) && head(component) === the_tag;
}
</pre></div></div>
	
	The second element of the list that results from parsing a literal expression
	is its actual JavaScript value.
	The selector for retrieving the value is
	<kbd>literal_value</kbd>.
	
	<div class='snippet' id='javascript_78_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0AGyooFMAnAQwYH0A3LoiwAUZGgFsADnRYkKASlABvUCtC5VoNiwpE29ABYsOAEyEUOVBiPFSSM+XIDcuAL74mrTj34NBQiRxsAM7CAEQkRAwMjqFyTkA')">function literal_value(component) {    
    return head(tail(component));
}
</pre></div></div>
	<div class='snippet' id='javascript_78_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAbASwBcBTAJwEMCB9ANxoFcyAKAByooGc2AiAHZMCBANx8AlBNFA')">literal_value(parse("null;"));
</pre><pre class='prettyprintoutput'>
null</pre></div></div>
	In the following, we just list the syntax predicates and selectors,
	and omit their declarations if they just access the obvious list elements.
	We provide a constructor for literals, which will come in handy in
	section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.1.2-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	
	    <div class='snippet' id='javascript_78_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0AbKitgJyZcAFADchRNgEpQAb1yhFofmwpF+9HgGcKwgEQ8+grnoA0ocV0lSA3LgC+QA')">function make_literal(value) {
    return list("literal", value);
}
</pre></div></div>
  </p></div>
      
  
      <div class='permalink'>
        <a name='h2' class='permalink'></a><h2>
    
    Names
  </h2></div>
  <div class='permalink'>
<a name='p5' class='permalink'></a><p>
    
    
    
    The tagged-list representation for names
    includes the tag <kbd>"name"</kbd> as first
    element and the string representing the name as second element.
    
	
	  \begin{eqnarray*}
	  \ll \mathit{name} \gg & = &
	  \texttt{list("name", }\mathit{symbol}\texttt{)}
	  \end{eqnarray*}
	
	where $symbol$ is a string
	that contains the characters that make up the
	$name$ as written in the program.
    
    
	The syntax predicate for names is 
	<kbd>is_name</kbd>.
	
	    
	The symbol is accessed using the selector 
	<kbd>symbol_of_name</kbd>.	
	
	    
	    
	    We provide a constructor for names, to be used by
	    <kbd>operator_combination_to_application</kbd>:
	    
	    <div class='snippet' id='javascript_78_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajpQCTYAa3USNgluEUYATwkAIxoBbT1DY1NzeiFGUQAiLJyGpQLi0s1ouNxxEnqU-OZm9Xq2Cm4c+VAg0BsjRlyGgA9Ihq7cXiYpATZ8kSsRkQkhkeYxianXDa3GHb28wpKBZhoCYezck4+c8-ZLlyaLpAA')">function make_name(symbol) {
    return list("name", symbol);
}
</pre></div></div>
  </p></div>
      

  
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
    Expression statements
  </h2></div>
  <div class='permalink'>
<a name='p6' class='permalink'></a><p>
    
    
    We do not need to distinguish between expressions and expression statements.
    Consequently, 
    <kbd>parse</kbd> can ignore the difference
    between the two kinds of components:
    
	
	  \begin{eqnarray*}
	  \ll \mathit{expression}\texttt{;} \gg & = &
	  \ll \mathit{expression} \gg
	  \end{eqnarray*}
	
    
    
  </p></div>


  
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
    Function applications
  </h2></div>

  <div class='permalink'>
<a name='p7' class='permalink'></a><p>
    
    
    Function applications are parsed as follows:
    
	
	  \begin{eqnarray*}
&	  \ll \mathit{fun}\textit{-}\mathit{expr}\texttt{(}\mathit{arg}\textit{-}\mathit{expr}_1\texttt{, }\ldots\texttt{, } \mathit{arg}\textit{-}\mathit{expr}_n \texttt{)} \gg \\
&	  = \\
&	  \texttt{list("application",}\ \ll \mathit{fun}\textit{-}\mathit{expr} \gg \texttt{, list(} \ll \mathit{arg}\textit{-}\mathit{expr}_1 \gg \texttt{, }\ldots\texttt{, } \ll \mathit{arg}\textit{-}\mathit{expr}_n \gg \texttt{))}
	  \end{eqnarray*}
	
    
    
	The syntax predicate is
	<kbd>is_application</kbd>
	and the selectors are
	<kbd>function_expression</kbd> and
	<kbd>arg_expressions</kbd>.
	
	
	
	    
	    
	    We add a constructor for function applications, to be used by
	    <kbd>operator_combination_to_application</kbd>:	    
	    
	    <div class='snippet' id='javascript_78_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFhI2CW4-JxdtPUNjU3NLFnYuPkFhLIDFUAAiNIzazWi4wlJKWnoJNgBrdTYpKSEyNiSSEQSOumZuAA8pE0ZGTqU2Iw4iDPkZ+cXlukZc-UMTMwtQIUZRWoGhqhGx2qVJsZ2F7iWV0DWNrYo3vadQ4tfDiEhXUASACezAa6iuo24f1AQVANiMjEytVmkSa0V4TCGbChIiscJE0Nh6Xh7AoSJyzVwBMYRJJjChEgARjQBMwaAQqRkKTC4cwEXS-ppmkA')">function make_application(function_expression, argument_expressions) {
    return list("application", function_expression, argument_expressions);
}
</pre></div></div>
	    
  </p></div>

  
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
    Conditionals
  </h2></div>

  <div class='permalink'>
<a name='p8' class='permalink'></a><p>
    
    
    
    
    Conditional expressions are parsed as follows:
    <blockquote class='blockquote'>
      
	
$\ll \mathit{predicate}\ \texttt{?}\ \mathit{consequent}\textit{-}\mathit{expression}\ \texttt{:}\ \mathit{alternative}\textit{-}\mathit{expression}   \gg\ \ = $
	
      
	
	<kbd class='snippet'>
list("conditional_expression", 
     $\ll$ $predicate$ $\gg$,
     $\ll$ $consequent$-$expression$ $\gg$,
     $\ll$ $alternative$-$expression$ $\gg$)
	  </kbd>
    </blockquote>

    Similarly, conditional statements are parsed as follows:
    <blockquote class='blockquote'>
      
	
$\ll \textbf{if}\ \texttt{(} \mathit{predicate} \texttt{)}\ \mathit{consequent}\textit{-}\mathit{block}\ \textbf{else}\ \mathit{alternative}\textit{-}\mathit{block} \gg\ \ =$
	
      
      
	<kbd class='snippet'>
list("conditional_statement", 
     $\ll$ $predicate$ $\gg$,
     $\ll$ $consequent$-$block$ $\gg$,
     $\ll$ $alternative$-$block$ $\gg$)
	  </kbd>
    </blockquote>

	
	
	
	The selectors 
	<kbd>conditional_predicate</kbd>,
	<kbd>conditional_consequent</kbd>, and
	<kbd>conditional_alternative</kbd>
	can be applied to both kinds
	of conditionals, and the syntax predicate
	<kbd>is_conditional</kbd>
	returns true for both.
	
	    
	    
  </p></div>

  
      <div class='permalink'>
        <a name='h6' class='permalink'></a><h2>
    
    Lambda expressions
  </h2></div>

  <div class='permalink'>
<a name='p9' class='permalink'></a><p>
    
    
    A lambda expression whose body is an expression is parsed as if the
    body consisted of a block containing a single return statement whose
    return expression is the body of the lambda expression.
    
    
\begin{eqnarray*}      
& \ll \texttt{(}\mathit{name}_1\texttt{, }\ldots\texttt{, } \mathit{name}_n \texttt{) =>}\ \mathit{expression} \gg \\
& = \\
& \ll \texttt{(}\mathit{name}_1\texttt{, }\ldots\texttt{, } \mathit{name}_n \texttt{) => \{}\ \textbf{return} \ \mathit{expression}\texttt{;}\ \texttt{\}} \gg
\end{eqnarray*}
	
    
    
	      A lambda expression whose body is a block is parsed as follows:
	      <blockquote class='blockquote'>
		
	      
$\ll \texttt{(}\mathit{name}_1\texttt{, }\ldots\texttt{, } \mathit{name}_n \texttt{) =>}\ \mathit{block} \gg\ \ =$
	
		
		
	<kbd class='snippet'>
list("lambda_expression",
     list($\ll name_1 \gg$, $\ldots$, $\ll name_n \gg$),
     $\ll block \gg$)
	  </kbd>
	      </blockquote>

	
	The syntax predicate is
	<kbd>is_lambda_expression</kbd>
	and the selector for the body of the lambda expression is
	
	<kbd>lambda_body</kbd>.
	The selector for the parameters, called
	<kbd>lambda_parameter_symbols</kbd>,
	additionally extracts the symbols from the names.
	
	    <div class='snippet' id='javascript_78_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFhI2CW4-JxdtPUNjU3NLFnYuPkFhLIDFUAAiNIzazWi4wlJKWnpGAE8JACMaAWYaAmYGzPF-Z0DdfUMTMwsvbh8RdioBKunXZtj49qTiwXS+3jZmbgAPKRNGRk6tnNn5wqWrUp5+IUZRSez5JS1AQnM4Xa63e50JotNqJTqgYH9UE2IzpUzcIzMHr9QaMR4zPIGBZFUASNhSETYgZDEZjNFKby+dabP7VTTsmEJDrJRGnc4DXjdfGuZ5E170RlrWybZnC9m7VriEg-UndY5ItigIKgFGMTK1S5agB8oEu0NwvCYUmBQqsvNBVxu3DuDwkavtbA5FqtNpEHusbFRGQoGKxvWpeLd6r5XstjGtbCF-oFQqjHo5QA')">function lambda_parameter_symbols(component) {
   return map(symbol_of_name, head(tail(component)));
}
</pre></div></div>
	    
	    We add a constructor for lambda expressions, to be used by
	    <kbd>function_decl_to_constant_decl</kbd>:
	    
	    <div class='snippet' id='javascript_78_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFhI2CW4-JxdtPUNjU3NLFnYuPkFhLIDFUAAiNIzazWi4wlJKWnoJNgBrdQF0gCNeNmZuAA8pE0ZGTpEbI3TTbiNGJUGaXgBPXP1DEzMLUCFGUVqBiWHRianuGc7apQWlihW10A3t5tj8cRJT0ASLbMBrqU5sV4ZeSgIKgBaMTK1caRJrRXhMKQDLYiKygkRAkFLZjgyE5b7oxiYtjYxhbS40ATMGgEQkZfHA0HE9ikwLNIA')">function make_lambda_expression(parameters, body) {
    return list("lambda_expression", parameters, body);
}
</pre></div></div>

	    </p></div>

  
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
    Sequences
  </h2></div>

  <div class='permalink'>
<a name='p10' class='permalink'></a><p>
    
    
    A sequence statement packages a sequence of statements into a
    single statement. A sequence of statements is parsed as follows:
    
    
	  \begin{eqnarray*}
&	  \ll \mathit{statement}_1 \cdots \mathit{statement}_n   \gg \\
&	  = \\
&	  \texttt{list("sequence", list(}
\ll \mathit{statement}_1 \gg \texttt{, } \ldots \texttt{, }
\ll \mathit{statement}_n \gg \texttt{))}
	  \end{eqnarray*}
    
    
    
    
    The syntax predicate is <kbd>is_sequence</kbd> and
    the selector is <kbd>sequence_statements</kbd>.
    We retrieve the first of a list of statements using
    <kbd>first_statement</kbd> and
    the remaining statements using
    <kbd>rest_statements</kbd>, and test
    whether the list is empty or contains only one element using
    the predicates 
    <kbd>is_empty_sequence</kbd> and 
    <kbd>is_last_statement</kbd>,
    respectively.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
  
  
  
  
  <div class='snippet' id='javascript_78_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFkZuAEciOTJuEUYKCVddfQMTMwsUiJ5+IXy8gsVQACI0zOzuJs1ouITKWnpWrPJ1fLYKbgkXRnrC7R1DEuNTc3pvX3YqARnXLtjCUj7kgjt85lHxyfltxjnFspWvbh9r3Z6DpPoTU-OJqZfiwz3CobLb5Qo3br7RL9SoTKQUACeZwyQxy-z0gOWFSsJCIAlBDQhe16H0qAjY33YFxc6LuWMsLFx+JEIJer3w4hI+VAEiRg3aoCCoBsRjSIiaGEiyiMWSlKAArJFOtFeEwpOSESIrPzhiJeci2sNNLtOdz9WxDlzBaAdTkzlTfvJpvrbdxdqrGOq2JqrHDEQbUblzZabu61RqtSxyZSxo7RMGPqGVeHvSJjqKKPbY5d40iLYnjcnPRGvpmfjnnXmQ4WgA')">function first_statement(stmts) {
   return head(stmts);
}
function rest_statements(stmts) {
   return tail(stmts);
}
function is_empty_sequence(stmts) {
   return is_null(stmts);
}
function is_last_statement(stmts) {
   return is_null(tail(stmts));
}
</pre></div></div>
	    
  </p></div>

  
      <div class='permalink'>
        <a name='h8' class='permalink'></a><h2>
    
    Blocks
  </h2></div>

  <div class='permalink'>
<a name='p11' class='permalink'></a><p>
    
    
    Blocks are parsed as follows:<a class='superscript' id='footnote-link-2' href='#footnote-2'>[2]</a>
    
	  \begin{eqnarray*}
	  \ll \texttt{\{}\ \mathit{statements}\ \texttt{\}} \gg
	  & = &
	  \texttt{list("block",}\ \ll \mathit{statements} \gg \texttt{)}
	  \end{eqnarray*}
	
	Here $statements$ refers to a sequence of
	statements.
	The syntax predicate is <kbd>is_block</kbd>
	and the selector is <kbd>block_body</kbd>.
	
	
	    
	    
</p></div>

  
      <div class='permalink'>
        <a name='h9' class='permalink'></a><h2>
    
    Return statements
  </h2></div>

  <div class='permalink'>
<a name='p12' class='permalink'></a><p>
    
    
    Return statements are parsed as follows:
    
	
	  \begin{eqnarray*}
	  \ll \textbf{return}\ \mathit{expression} \texttt{;} \gg
	  & = &
	  \texttt{list("return_statement",}\ \ll \mathit{expression} \gg \texttt{)}
	  \end{eqnarray*}
	
    
    
    The syntax predicate is <kbd>is_return_statement</kbd>
	and the selector is <kbd>return_expression</kbd>.
	
	
	    
	    
	    </p></div>

  
      <div class='permalink'>
        <a name='h10' class='permalink'></a><h2>
    
    Assignments
  </h2></div>

  <div class='permalink'>
<a name='p13' class='permalink'></a><p>
    
    
    Assignments are parsed as follows:
	
	  \begin{eqnarray*}
	  \ll \mathit{name}\ \ \texttt{=}\ \ \mathit{expression} \gg & = &
	  \texttt{list("assignment", }\ll \mathit{name}\gg \texttt{, }\ll \mathit{expression} \gg \texttt{)}
	  \end{eqnarray*}
	
	The syntax predicate is <kbd>is_assignment</kbd>
	and the selectors are <kbd>assignment_symbol</kbd>
	and <kbd>assignment_value_expression</kbd>.
	The symbol is wrapped in a tagged list representing the name, and thus
	<kbd>assignment_symbol</kbd> needs to
	unwrap it.
	
	
	
    <div class='snippet' id='javascript_78_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFjZGRioOEgkXPycXbT1DY1NzSxZ2Lj5BYTyAxVAAIjSMrJz5Rs1ouITKWnoWzOyXZkYATwkAIxoBOudA3X1DEzMLL24fEXYqWe9fbdnxf3nXTTPuwlI+5MG2kYA3NgEidW4ADykTdP65gsXilZldabA5bWyHRz1M5dWL4cQkRgUUASMbMW7DeSjdgUbjtJFBUA2IyMbgiRpvUAEjCRTrRXhMKQCNhjETovGjCbTWYotHfO6YxFsHF4864emMRnM1l8jEUZiPZ6vD5fDJ0EQ8tkjQXCgpdIA')">function assignment_symbol(component) {
    return symbol_of_name(head(tail(component))));
}
</pre></div></div>
    
  </p></div>

  
      <div class='permalink'>
        <a name='h11' class='permalink'></a><h2>
    
    Constant, variable, and function declarations
  </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
      
      
      Constant and variable declarations are parsed as follows:
      
	
	  \begin{eqnarray*}
&  \ll \textbf{const}\ \mathit{name}\ \ \texttt{=}\ \ \mathit{expression}\texttt{;} \gg \\
& = \\
& \texttt{list("constant_declaration", } \ll \mathit{name} \gg \texttt{, }\ll \mathit{expression} \gg \texttt{)}\\[3mm]
&  \ll \textbf{let}\ \mathit{name} \ \ \texttt{=}\ \ \mathit{expression}\texttt{;} \gg \\
& = \\
& \texttt{list("variable_declaration", } \ll \mathit{name} \gg \texttt{, }\ll \mathit{expression} \gg \texttt{)}
	  \end{eqnarray*}
	
      
      
	The selectors 
	<kbd>declaration_symbol</kbd> and
	<kbd>declaration_value_expression</kbd> apply to both
	kinds.
	
	
	<div class='snippet' id='javascript_78_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajpQXm4yATYjNiSSZkYATwkAIxoBPycXbT1DEzMLUALi0uYaAmYSNgluEW9fdioy8X9nQM1NaLiEylp6VPTM7JnmADc2ASJ1bgAPKRNGRhnygNddfQNa83pekX6y26OR1zGJ-HESRgpQCXzmOYysnJ5dgUbhdeSgIKgGxGRjdABEAlMoC2ENAGEicPGuF4TCkGXyIisfwWORE31+aX+izoQOyoMqWJxjDxbAJxIBS0aJTK5PZ1NyHzpYKe0SZLLZlJJS1W602Oz2BzoZJ+fMBgpBwueQA')">function declaration_symbol(component) {
   return symbol_of_name(head(tail(component)));
}
function declaration_value_expression(component) {
   return head(tail(tail(component)));
}
</pre></div></div>
	We also declare a constructor for constant declarations, to be used by
	<kbd>function_decl_to_constant_decl</kbd>:
	
	<div class='snippet' id='javascript_78_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFl5uMgE2IzYkkj8nF209Q2NTc0sWdi4+QWF8gMVQACJxEkZ2eWY0jKyc2hIm7QAfIf0S8ZSInn4hdvrneSUmgDcsqjYAIwF1bszs3MHQEbGJwysq6dq58X8FxqaEyn6u9L2+ukHouMJSJ+SJNgAa3UrXabE6u16uREJDYEm4SlWAiI6m4AA8pCZGIx+kUTqUzBZQLNRC06GCIa8of0mkpYfDEWxkaiMVicXRNF98KCKKAJABPF49fbPMEUbjw+SgIKgGxGRjcERNba8tHS0AYSKfXC8JhSTL8kRWSEiugiAVCt65ZhiiWFTk6vUGkQm94kG38iQbGgCc2C13W22S1wO3WMfVsQ0B55IlHMdGY7jY-p+y3Uug29ji4OaTlAA')">function make_constant_declaration(name, value_expression) {
    return list("constant_declaration", name, value_expression);
}
</pre></div></div>
    </p></div>
    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
      Function declarations are parsed as follows:
	<blockquote class='blockquote'>
	  
	      
$\ll \textbf{function}\ \mathit{name} \texttt{(}\mathit{name}_1\texttt{, }\ldots\texttt{, } \mathit{name}_n \texttt{)} \ \mathit{block} \ \gg\ \ =$ 
	
	  
	  
	<kbd class='snippet'>
list("function_declaration",
     $\ll$ $name$ $\gg$,
     list($\ll$ $name$$_1 \gg$, $\ldots$, $\ll$ $name$$_n \gg$),
     $\ll$ $block$ $\gg$)
	  </kbd>
	</blockquote>

      
      
      
      
     The syntax predicate for function declarations is
     <kbd>is_function_declaration</kbd> and
     the selectors are
     <kbd>function_declaration_name</kbd>,
     <kbd>function_declaration_parameters</kbd>, and
     <kbd>function_declaration_body</kbd>.
     
    </p></div>
    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
	The syntax predicate
	<kbd>is_declaration</kbd>
	returns true for all three kinds of declarations.
      
	<div class='snippet' id='javascript_78_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFl5uMgE2IzYkkj8nF209Q2NTc0sWdi4+QWF8gMVQACJxEkZ2eWY0jKyc2hIm7QAfIf0S8ZSInn4hdvrneSUmgDcsqjYAIwF1bszs3MHQEbGJwysq6dq58X8FxqaEyn6u9L2+ukHouNxW9tAJACeLx6+2e7Ry3AkLlAQVANiMjG4Iia2wooAAHjDQBhIp9cLwmFJMgCRFZdr1ciJAcC3rlmOCKJDCppogTGES2CTyaC6PSARINjQBFSgdz3iR6exGVDAiz8YTiSIxXTVgIiOpuOipCZGIx+iKaRSwVKmbLIkA')">function is_declaration(component) {
    return is_tagged_list(component, "constant_declaration") ||
           is_tagged_list(component, "variable_declaration") ||
           is_tagged_list(component, "function_declaration");
}
</pre></div></div>
	
    </p></div>
    
  

  
    
    

      
      <div class='permalink'>
        <a name='h12' class='permalink'></a><h2>
    
	Derived components
      </h2></div>
      
      <div class='permalink'>
<a name='p17' class='permalink'></a><p>
	
	
	
	
	Some syntactic forms in our language can be defined in terms of
	components involving other syntactic forms, rather than being
	implemented directly.
	One example is function declaration, which 
	<kbd>evaluate</kbd>
	transforms into a constant declaration whose
	value expression is a lambda expression.<a class='superscript' id='footnote-link-3' href='#footnote-3'>[3]</a>
	  
	  
	
	<div class='snippet' id='javascript_78_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0KBDAcw4FMATZgDZMKACjI0AtgAc63EhQA0oCgAturTgEpQAb1ygDoAE7cKRI-SbMpbKkbGSZJORW0AyN6DVteD6bPltAF4Q5TUNDgBuXABffGJyajoGFgTKWhJmXm4yATYjNiSSPycXbR0ASENQfUMTMwsUiJ5+IUZRcX9neSUAIjSirJy8gqLezWi4gYzQaboh3PzCjOYSNgluEoDXXVqDevN6NopmEwIt7sVQDAnYwlJ05LnM7MXRlZsCjYpuI0YLsq7aoHRrHU7cc6dUo9UDYW5TB5FWaIlavEbLeYAIxovAAngDAkC6qZDqAwWcCVcAMzw+6JGbPBYCVg0ZjiEjtNjyJmU8p7YwkxoSNgAa3U7M53LRSyKIn51QVBkZ0ve8zWG15CnliuqwrFgnWmN4bGY3AAHlITIxGBk5Tr7dVlcMZR8lt9fv8odtNFqHX6nW8MZlsXjeZp4UA')">function function_decl_to_constant_decl(component) {
    return make_constant_declaration(
               function_declaration_name(component),
               make_lambda_expression(
                   function_declaration_parameters(component),
                   function_declaration_body(component)));
}
</pre></div></div>
	Implementing the evaluation of function declarations
	in this	way simplifies the evaluator because it reduces the number of
	syntactic forms for which the evaluation process must be explicitly specified.
      </p></div>
      
      <div class='permalink'>
<a name='p18' class='permalink'></a><p>
	  
	  
	Similarly, we define operator combinations in terms of
	function applications. 
	Operator combinations are unary or binary and carry their operator symbol as second element
	in the tagged-list representation:
	
	    
	      \begin{eqnarray*}
	      & \ll \mathit{unary}\textit{-}\mathit{operator}\ \ \mathit{expression} \gg \\
	      & = \\
	      & \texttt{list("unary_operator_combination", "}\mathit{unary}\textit{-}\mathit{operator}\texttt{"},\ 
              \texttt{list(}\ll \mathit{expression} \gg \texttt{))}
	      \end{eqnarray*}
	    
	
	
	where $unary$-$operator$ is 
    <kbd>!</kbd> (for logical negation) or
    <kbd>-unary</kbd> (for numeric negation), and
    
	    
	      \begin{eqnarray*}
	      & \ll \mathit{expression}_1\ \mathit{binary}\textit{-}\mathit{operator}\ \ \mathit{expression}_2 \gg \\
	      & = \\
	      & \texttt{list("binary_operator_combination", "}\mathit{binary}\textit{-}\mathit{operator}\texttt{"},\ 
              \texttt{list(}\ll \mathit{expression}_1 \gg\texttt{,}\ \ll \mathit{expression}_2 \gg \texttt{))}
	      \end{eqnarray*}
	    
    
    
    where $binary$-$operator$ is 
    <kbd>+</kbd>,
    <kbd>-</kbd>,
    <kbd>*</kbd>,
    <kbd>/</kbd>,
    <kbd>%</kbd>,
    <kbd>===</kbd>,
    <kbd>!==</kbd>,
    <kbd>></kbd>,
    <kbd><</kbd>,
    <kbd>>=</kbd> or
    <kbd><=</kbd>.
     The syntax predicates and selectors are
     <kbd>is_operator_combination</kbd>,
     <kbd>is_unary_operator_combination</kbd>,
     <kbd>is_binary_operator_combination</kbd>,
     <kbd>operator_symbol</kbd>,
     <kbd>first_operand</kbd>, and
     <kbd>second_operand</kbd>.
	
	
	
	The evaluator uses 
	<kbd>operator_combination_to_application</kbd>
	to transform an operator combination into a function application whose
	function expression is the name of the operator.
	
	<div class='snippet' id='javascript_78_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0KgZwH0aAHAUwCcBDCmrszI0AtgCMqJPrRIAKYSLZ0OJCgEpQAbwCQoPaFz7QXDhSJd6TZqR5cAnq069+ghRKnU680UpIr1oAA+gYZGYQws7rYO7Nx8AkKiUZ5yCr7+agDcuAC+hKSUMhHWUvaOcS6J4pLSXmnKqho6RqF6JmYWxRQ8AOY9HAAmzAA2TBTeig0UADSgAEQ2ZbHOCW41KXNZufnkKcVRS07xrknrMhPpjVq6+q3GpuaWLN19gyNjF1OzcwcxR5VrDwyTbZPLEXZFZbHZiMOziGjDT5+K6aO7tR6gUaMCjMEwEJH+WYYLZggp7AhULjY8q8EgDAkotEPTpYnF4hkzUDYEk7Qp0UCMDjCOk0nh0jlNJkdeis3EcfH1ZGcgDMPN5eysL36Q1ZHNmFAAFhxmC9JUZ0Z0rGweJSJaAAGT20BGnj0xUZUAAXm9oENxpeoPw4L5T2YUhEHDtqPNzNDWreuvdqm+4Y4IO26qKIh4AGtjTw2GxRmRanJgylmBwAB5sEyMRgyWa2HpECOqSs1usNuiMM36C0yj5zAtFqgljazcsyDu1jj1xugZut-wzrsyXuBzP8qEA05AugmmjMEfF0tRu7C7GgHcCL3X-4JWHwxFJ9TZGPS4qLP4VVZ7s+vmodzhKAAD8oDZnmx6FqeKSyJBxqprIN5cGo0zASBmFYZiHwUlSOJQuKgFqEB2GgAAXBBub5jBY5nghYY8BGyEPqh6FkRxIG6nh1KEW6PhTGhGGcSJeiCsKQx8RKJGgkAA')">function operator_combination_to_application(component) {
    const operator = operator_symbol(component);
    return is_unary_operator_combination(component)
           ? make_application(make_name(operator),
                              list(first_operand(component)))
           : make_application(make_name(operator),
                              list(first_operand(component),
                                   second_operand(component)));
}
</pre></div></div>
	
      </p></div>
      <div class='permalink'>
<a name='p19' class='permalink'></a><p>
	Components (such as function declarations and operator combinations) that we
	choose
	to implement as syntactic transformations are called <EM>derived
	components</EM>. Logical composition operations are also
	derived components (see exercise&nbsp;<REF NAME="ex:eval-and-or"><a class="superscript" id="4.1.2-ex-link-4.4" href="./4.1.2.html#ex_4.4">4.4</a></REF>).
	
	
	
	
	
	
      </p></div>
      
    
  

  

  
    
    
      
    <div class="permalink">
    <a name="ex_4.2" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.2">Exercise 4.2 </a></b> 
  
	
	The inverse of <kbd>parse</kbd>
	is called <kbd>unparse</kbd>. It takes
	as argument a
	tagged list as produced by <kbd>parse</kbd>
	and returns a string that adheres to JavaScript notation.
	<OL type="a">
	  <LI>
	  Write a function <kbd>unparse</kbd> by 
	  following the structure of <kbd>evaluate</kbd>
	  (without the environment parameter), but producing a string that represents
	  the given component, rather than evaluating it. Recall
	  from section&nbsp;<REF NAME="sec:circuit-simulator"><a class="superscript" id="4.1.2-sec-link-3.3.4" href="./3.3.4.html">3.3.4</a></REF> that 
	  the operator <kbd>+</kbd> can be applied
	  to two strings to concatenate them and that the primitive function
	  <kbd>stringify</kbd> turns values such
	  as 1.5, true, <kbd>null</kbd> and
	  <kbd>undefined</kbd> into strings.
	  Take care to respect operator precedences by surrounding the strings
	  that result from unparsing operator combinations with parentheses
	  (always or whenever necessary).
	</LI>
	<LI>
	  Your <kbd>unparse</kbd> function will come
	  in handy when solving later exercises in this section. Improve
	  <kbd>unparse</kbd> by adding
	  <kbd>" "</kbd> (space)
	  and <kbd>"\n"</kbd> (newline) characters
	  to the result string, to follow the indentation style used in the JavaScript
	  programs of this book. Adding whitespace characters to (or removing
	  them from) a program text in order to make the text easier to read
	  is called <EM>pretty-printing</EM>.
	  
	  
	  
	</LI>
       </OL>
      
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    
  

  
    
    
      
    <div class="permalink">
    <a name="ex_4.3" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.3">Exercise 4.3 </a></b> 
  
	
	
	
	Rewrite <kbd>evaluate</kbd> so that the
	dispatch is done in data-directed style.  Compare this with the
	data-directed differentiation function of
	exercise&nbsp;<REF NAME="ex:data-directed-differentiation"><a class="superscript" id="4.1.2-ex-link-2.73" href="./2.4.3.html#ex_2.73">2.73</a></REF>. (You may
	use the tag of the tagged-list representation as the type of the components.)
	
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    
  

  
    <div class="permalink">
    <a name="ex_4.4" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.4">Exercise 4.4 </a></b> 
   
    
    
      
      
	
	
	
	
	
	Recall from section&nbsp;<REF NAME="sec:conditionals"><a class="superscript" id="4.1.2-sec-link-1.1.6" href="./1.1.6.html">1.1.6</a></REF> that the
	logical composition operations
	<kbd>&&</kbd>
	and
	<kbd>||</kbd>
	are syntactic sugar for conditional expressions:
	    $\mathit{expression}_1$ <kbd>&&</kbd>
	    $\mathit{expression}_2$
	    is syntactic sugar for
	    $ \mathit{expression}_1$ <kbd>?</kbd>
	    $\mathit{expression}_2$ <kbd>:</kbd>
	    <kbd>false</kbd>, and
            $\mathit{expression}_1$ 
            <kbd>||</kbd> 
            $\mathit{expression}_2$
	    is syntactic sugar for
	    $ \mathit{expression}_1$ <kbd>?</kbd>
	    <kbd>true</kbd> <kbd>:</kbd>
	    $\mathit{expression}_2$.
      
    
    
      
      
	
	
	
	
	They are parsed as follows:
	<blockquote class='blockquote'>
	  
	  
	
	  $\ll \mathit{expression}_1\ \ \mathit{logical}\textit{-}\mathit{operation}\ \ \mathit{expression}_2 \gg \ \ = $
	
	  
	<kbd class='snippet'>
list("logical_composition",
     "$logical$-$operation$",
     list($\ll$ $expression$$_1 \gg$, $\ll$ $expression$$_2 \gg$))
	  </kbd>
    </blockquote>

    where $logical$-$operation$ is 
    <kbd>&&</kbd> or
    <kbd>||</kbd>.
    Install
    <kbd>&&</kbd> and
    <kbd>||</kbd>
	as new syntactic forms for the evaluator
	by declaring appropriate syntax functions and evaluation functions
	<kbd>eval_and</kbd> and 
	<kbd>eval_or</kbd>. Alternatively, show how to
	implement
    <kbd>&&</kbd> and
    <kbd>||</kbd>
    as derived components.
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
  
    <div class="permalink">
    <a name="ex_4.5" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.5">Exercise 4.5 </a></b> 
  
    
      
      
	<OL type="a">
	  <LI>
	    
	    
	    
	    In JavaScript, lambda expressions must not have duplicate parameters. The
	    <kbd>evaluate</kbd> function in
	    section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.1.2-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF> does not check for this.
	    <UL>
	      <LI>
		Modify <kbd>evaluate</kbd> so
		that any attempt to apply a function with duplicate parameters
		raises an error.
	      </LI>
	      <LI>
		Implement a <kbd>verify</kbd> function that
		checks whether any lambda expression in a given program contains
		duplicate parameters. With such a function, we could check the entire
		program before we pass it to
		<kbd>evaluate</kbd>.
	      </LI>
	    </UL>
	    In order to implement this check in an evaluator for JavaScript, which
	    of these two approaches would you prefer? Why?
	  </LI>
	  <LI>
	    
	    
	    
	    The names declared in the body of a lambda expression must be
	    distinct from the names of
	    the parameters of the lambda expression. Use your preferred approach
	    above to check for this as well.
          </LI>
        </OL>
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
      
    

    
    <div class="permalink">
    <a name="ex_4.6" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.6">Exercise 4.6 </a></b> 
  
    
      
      
	
	
	
	
	The language Scheme includes a variant of
	<kbd>let</kbd> called
	<kbd>let*</kbd>. We could approximate
	the semantics of
	<kbd>let*</kbd> in JavaScript by stipulating
	that a sequence whose first statement is a 
	<kbd>let*</kbd> declaration implicitly
	introduces a new block whose body includes the declaration and all
	subsequent statements of the statement sequence in which the
	declaration occurs. For example, the program
	<div class='snippet' id='javascript_78_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
display(1);
let* x = 2;
let* y = x + 3;
display(x + y);</pre></div></div>
	could be seen as a shorthand for
	<div class='snippet' id='javascript_78_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
display(1);
{
  let x = 2;
  {
    let y = x + 3;
    display(x + y);
  }
}</pre></div></div>
	<OL type="a">
	  <LI>
	    Write a program in such an extended JavaScript language
	    that behaves differently when some occurrences of the keyword
	    <kbd>let</kbd> are replaced
	    with <kbd>let*</kbd>.
	  </LI>
	  <LI>
	    Introduce
	    <kbd>let*</kbd> as
	    a new syntactic form by designing a suitable tagged-list representation and
	    writing a parse rule.
	    Declare a syntax predicate and selectors for the tagged-list
	    representation.
	  </LI>
	  <LI>
	    Assuming that
	    <kbd>parse</kbd> implements your
	    new rule, write a function
	    <kbd>let_star_to_nested_let</kbd>
	    that transforms any occurrence of 
	    <kbd>let*</kbd> in a given program as
	    described above. We could
	    then evaluate a program <kbd>p</kbd> in the
	    extended language by running
	    <kbd>evaluate(let_star_to_nested_let(p))</kbd>.
	  </LI>
	  <LI>
	    As an alternative, consider implementing
	    <kbd>let*</kbd> by
	    adding to the dispatch in
	    <kbd>evaluate</kbd> a clause that will
	    recognize the new syntactic form and call a function
	    <kbd>eval_let_star_declaration</kbd>.
	    Why does this approach not work?
	  </LI>
	</OL>
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_4.7" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.7">Exercise 4.7 </a></b> 
  
    
    
      
      
	JavaScript supports
	<EM>while loops</EM> that execute a given
	statement repeatedly. Specifically,
	
	
	
	
	
	
	<kbd class='snippet'>
while ($predicate$) { $body$ }
	  </kbd>
	evaluates the $predicate$, and
	if the result is true, evaluates the
	$body$
	and then evaluates
	the whole while loop again.
	Once the $predicate$ evaluates
	to false, the
	while loop terminates. Using
	this syntax, we can compute the greatest common divisor
	of two numbers using the following function:
	
	<div class='snippet' id='javascript_78_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0AczIBMAKAQwBpQAjASlABvXKFGgA7gAsqAGwCmoDqACEAXlW8BwsTtBUCSgHyahI3efagNlgLS8A3GfMBfUHJkBnBdvO6eV3lA7dkdfUGcASFEncJiAJzkKIjj6EIjcZ3wmNhRsbgxsPnsgA')">function gcd(a, b) {
    while (a !== b) {
        if(a > b) {
            a = a - b;
        } else {
            b = b - a;
        }	  
    }
    return a;	
}
</pre></div></div>
	while loops are parsed as follows:
	<blockquote class='blockquote'>
	  
	
	  $\ll \textbf{while} \ \texttt{(}\ \mathit{predicate}\ \texttt{)}\ \mathit{block}  \gg \ \ =$ 
	
	  
	  
	  <kbd class='snippet'>
list("while_loop", $\ll$ $predicate$ $\gg$, $\ll$ $block$ $\gg$)
	  </kbd>
    </blockquote>

    <OL type="a">
	  <LI>
	    Declare a syntax predicate and selectors to handle
	    while loops.
	  </LI>
	  <LI>
	    Declare a function <kbd>while_loop</kbd>
	    that takes as arguments a predicate and a
	    body—each represented by a
	    function of no arguments—and simulates the behavior of the
	    while loop. The
	    <kbd>gcd</kbd> function would then
	    look as follows:
	    <div class='snippet' id='javascript_78_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuRQB3ACwEsAbAUwH0KB7egB1ABd7QAjK4gJzNasqAOy4BPUAGdWAVwAmI1pNwAzGcIDGrMvVEBzDXIAUAQwA0XAJSgA3rlAPi5anUZMjoI9YC8APlAmoACE3t5cZvaOUdGOXqB+tg5kKp6B-pzWdjHZOTmBYYEAtFwA3JG5FVEAvqBUFJI8WZXN0ZzxXKDFJmUtzVXlvdH9vZY9jrxUsryi3bhVQA')">function gcd(a, b) {
    while_loop( () => a !== b,
                () => {  if (a > b) {
                             a = a - b;
                         } else {
                             b = b - a;
                         }	  
                      }
              );
    return a;	
}
</pre></div></div>
	    Make sure that your function
	    <kbd>while_loop</kbd> generates an
	    iterative process (see
	    section&nbsp;<REF NAME="sec:recursion-and-iteration"><a class="superscript" id="4.1.2-sec-link-1.2.1" href="./1.2.1.html">1.2.1</a></REF>).
	  </LI>
	  <LI>
	    Install while loops as
	    a derived component by defining a transformation function
	    <kbd>while_to_application</kbd> 
	    that makes use of your function
	    <kbd>while_loop</kbd>.
	  </LI>
	  <LI>
	    What problem arises with this approach for implementing
	    while loops, when
	    the programmer decides within the body of the loop to
	    return from the function that contains the loop?
	  </LI>
	  <LI>
	    Change your approach to address the problem. How about directly
	    installing while loops for the
	    evaluator, using a function
	    <kbd>eval_while</kbd>?
	  </LI>
	  <LI>
	    Following this direct approach, implement a
	    
	    
	    
	    <kbd>break;</kbd> statement that immediately
	    terminates the loop in which it is evaluated.
	  </LI>
	  <LI>
	    Implement a 
	    
	    
	    
	    <kbd>continue</kbd><kbd>;</kbd> statement that terminates
	    only the loop iteration in which it is evaluated, and continues with
	    evaluating the
	    while loop predicate.
	  </LI>
	</OL>
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
  
    <div class="permalink">
    <a name="ex_4.8" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.8">Exercise 4.8 </a></b> 
  
    
      
      
	
	
	
	      
	Another kind of loop available in JavaScript is the
	<EM>for loop</EM>, which combines
	an initialization, a predicate, an update statement, and a body in a single
	construct. As for the while
	loop, the body is repeatedly executed as long as the predicate holds. After
	every execution, the update statement is evaluated. Here is a function
	that reverses a list, using a for
	loop. 
	
	
	
	
	<div class='snippet' id='javascript_78_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0AJwFMA3JhgZyYAoAPDgJSgA3rlDjQAGyYVGTDkUmyAvKBKLJAbjESCNBqG7TZZIg2YkVofptABCUFQ4B9dZMndT5ppYG2vFlYUAIZUHgE+FAJCohJxcgpKoKoADqEM3AAWTMEAJp5mgQIANAmKUdpxAL464swUZvTMiRTaNbjMbJw8kk4U3Bil2KUAzNGaQA')">function reverse(xs) {
    let result = null;
    for (let current = xs; ! is_null(current); current = tail(current)) {
        result = pair(head(current), result);
    }
    return result;
}
</pre></div></div>
	for loops are parsed as follows:
	<blockquote class='blockquote'>
	  
	
	  $\ll \textbf{for} \ \texttt{(}\ \mathit{init}\textit{-}\mathit{statement}\texttt{; } \mathit{predicate}\texttt{; }\mathit{update}\textit{-}\mathit{statement}\texttt{)}\ \mathit{block}  \gg \ \ =$ 
	
	  
	  
	  <kbd class='snippet'>
list("for_loop", $\ll$ $init$-$statement$ $\gg$, $\ll$ $predicate$ $\gg$, $\ll$ $update$-$statement$ $\gg$, $\ll$ $block$ $\gg$)
	  </kbd>
    </blockquote>

    where $init$-$statement$ is either an assignment or a
    variable declaration and $update$-$statement$ is an assignment.
	<OL type="a">
	  <LI>
	    Declare a syntax predicate and selectors to handle for loops.
	  </LI>
	  <LI>
	    Following the approach for while
	    loops in exercise&nbsp;<REF NAME="ex:while_loop"><a class="superscript" id="4.1.2-ex-link-4.7" href="./4.1.2.html#ex_4.7">4.7</a></REF>, first implement
	    a function <kbd>for_loop</kbd> that takes
	    as arguments four functions of no arguments and simulates the
	    behavior of the for loop. Then
	    install for loops as a
	    derived component by defining a transformation function
	    <kbd>for_to_application</kbd> 
	    that makes use of your function
	    <kbd>for_loop</kbd>. Finally,
	    install for loops directly
	    in the evaluator, using a function
	    <kbd>eval_for</kbd>.
	  </LI>
	  <LI>
	    Assume that you have solved
	    exercise&nbsp;<REF NAME="ex:while_loop"><a class="superscript" id="4.1.2-ex-link-4.7" href="./4.1.2.html#ex_4.7">4.7</a></REF>. Would this allow
	    for an elegant way to install
	    for loops in the evaluator?
	  </LI>
	  <LI>
	    Eva Lu Ator tries to combine for loops
	    with lambda expressions in the following program.
	    <div class='snippet' id='javascript_78_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEY0CYBQuAzAVwDsBjAFwEsB7E0AJwFMA3JhgZyYH1jzq6HABQAPDgEpQAb1yg5oADZMKjJhyIKVAXlAkNCgNyz5BGg1BClKskQbmdYg6ACEoKh256FCoTbvinP3tQCgBDKh8g8UkZeTjVdU1QHQAHcIYhIUktAD5QAAsmUIATX1sGcQAaBI0KAOM5AF8G1QpbemZEiiNGoA')">function reverse_functions(xs) {
    let result = null;
    for (let curr = xs; ! is_null(curr); curr = tail(curr)) {
        result = pair(() => head(curr), result);
    }
    return result;
}
</pre></div></div>
	    To her surprise, all functions in the list returned by
	    <kbd>reverse_functions</kbd> are useless:
	    They apply <kbd>head</kbd> to
	    <kbd>null</kbd> and thus give an error,
	    because after execution of the for loop, the value of the variable
	    <kbd>curr</kbd> is
	    <kbd>null</kbd>.
	    Alyssa P. Hacker proposes to give each iteration 
	    of any for loop with a declaration
	    of a variable its own <QUOTE>instance</QUOTE> of the variable.
	    Modify your solution to part (b) to follow Alyssa's approach, and
	    verify that Eva's program now works as expected.
	  </LI>
	  <LI>
	    The designers of JavaScript decided to follow Alyssa's approach. Discuss 
	    this decision.
	  </LI>
	</OL>
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_4.9" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.9">Exercise 4.9 </a></b> 
  
    
    
      
      
	
	
	
	The result of evaluating the body of a function is determined by
	its return statements. 
	Following up on footnote&nbsp;<REF NAME="foot:value_producing"><a class="superscript" id="4.1.2-foot-link-5" href="./4.1.1.html#footnote-5">5</a></REF>
	and the evaluation of declarations in
	section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.1.2-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	this exercise addresses the question of what should be the result of
	evaluating a JavaScript program containing sequences,
	declarations, blocks, expression statements, and conditional
	statements <EM>outside of</EM> any function
	body.
	<div class='permalink'>
<a name='p20' class='permalink'></a><p>
	For such a program, JavaScript
	statically
        distinguishes between <EM>value-producing</EM> and
	<EM>non-value-producing statements</EM>. (Here 
	<QUOTE>statically</QUOTE> means that
	we can make the distinction by <EM>inspecting</EM> the program
	rather than by running it.)
	All declarations are
	non-value-producing, and all 
	expression statements and conditional statements are
	value-producing.
	The value of an expression statement is the value of the expression.
	The value of a conditional statement is the value of the branch that
	gets executed, or the value
	<kbd>undefined</kbd> if that branch is
	not value-producing.
	A block is value-producing if its body (sequence of statements)
	is value-producing, and then its value is the value of its body.
	A sequence is value-producing if any of
	its component statements is value-producing, and then its value is
	the value of its <EM>last</EM> value-producing component statement.
	Finally, if the whole
	program	is not value-producing, its value is the value
	<kbd>undefined</kbd>.
	<OL type="a">
	  <LI>
	    According to this specification, what are the values of the
	    following four programs?
	    <div class='snippet' id='javascript_78_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
1; 2; 3;

1; { if (true) { } else { 2; } }

1; const x = 2;

1; { let x = 2; { x = x + 3; } }</pre></div></div>
	  </LI>
	  <LI>
	    Modify the <kbd>evaluate</kbd>
	    function of the previous section to adhere to this
	    specification.
	  </LI>
	</OL>
	</p></div>
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_78_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_78_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1'>[1] </a>
    <FOOTNOTE>
    These
    selectors for a list of statements are not intended
    as a data abstraction.
    They are introduced as mnemonic names for the
    basic list operations in order to make it easier to understand the
    explicit-control evaluator in
    section&nbsp;<REF NAME="sec:eceval"><a class="superscript" id="4.1.2-sec-link-5.4" href="./5.4.html">5.4</a></REF>.
    
  
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2'>[2] </a>
    <FOOTNOTE>
    A parser implementation may
    decide to represent a block just by its statement sequence if none
    of the statements of the sequence are declarations, or to represent
    a sequence with only one statement by just that statement. The language
    processors in this chapter and in chapter 5 do not depend on
    these decisions.
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-3' href='#footnote-link-3'>[3] </a>
    <FOOTNOTE>
    In 
	    actual JavaScript, there are two differences between the two
	    forms; see footnote&nbsp;<REF NAME="foot:function-decl-vs-lambda"><a class="superscript" id="4.1.2-foot-link-2" href="./1.3.2.html#footnote-2">2</a></REF>
	    in chapter 1.
	    Exercise&nbsp;<REF NAME="ex:hoisting"><a class="superscript" id="4.1.2-ex-link-4.18" href="./4.1.6.html#ex_4.18">4.18</a></REF> addresses these differences.
          
    </FOOTNOTE></div>

    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.1.1.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='80' href='./4.1.3.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.1.2&nbsp;&nbsp;
    Representing
    
      
      Components
    
  
    </div>
    <script> var chapter_id = 79; </script>
    <script> var chapter_path = "chapters/4.1.2.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>